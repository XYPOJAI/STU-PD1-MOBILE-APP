{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport { useEffect, useState } from \"react\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { useNavigation, useRoute } from \"@react-navigation/native\";\nimport { fetchUsersAsync } from \"../services/user.service\";\nimport User from \"../components/User\";\nimport * as React from \"react\";\nimport { Button as PaperButton, withTheme } from \"react-native-paper\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function Index(props) {\n  var navigation = useNavigation();\n  var route = useRoute();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      users = _useState2[0],\n      setUsers = _useState2[1];\n\n  useEffect(function () {\n    var _route$params;\n\n    switch ((_route$params = route.params) == null ? void 0 : _route$params.op) {\n      case undefined:\n        fetchUsersAsync().then(function (json) {\n          return setUsers(json);\n        });\n        break;\n\n      case \"create\":\n        setUsers([].concat(_toConsumableArray(users), [route.params.data]));\n        break;\n\n      case \"edit\":\n        setUsers(users.map(function (u) {\n          return u.id === route.params.data.id ? route.params.data : u;\n        }));\n        break;\n\n      case \"delete\":\n        setUsers(users.filter(function (u) {\n          return u.id != route.params.data.id;\n        }));\n        break;\n\n      default:\n        throw new Error(\"Unknown Operation\");\n    }\n  }, [route.params]);\n  return _jsxs(View, {\n    children: [_jsx(PaperButton, _objectSpread(_objectSpread({\n      style: [styles.button, mode === \"outlined\" && {\n        backgroundColor: theme.colors.surface\n      }, style],\n      labelStyle: styles.text,\n      mode: mode\n    }, props), {}, {\n      mode: \"contained\",\n      onPress: function onPress() {\n        return navigation.navigate(\"Create\");\n      },\n      children: _jsx(Text, {\n        children: \"+ ADD CONTACT\"\n      })\n    })), _jsx(View, {\n      children: _jsx(FlatList, {\n        data: users,\n        renderItem: function renderItem(u) {\n          return _jsx(User, {\n            user: u\n          });\n        },\n        keyExtractor: function keyExtractor(item) {\n          return item.id;\n        }\n      })\n    })]\n  });\n}","map":{"version":3,"names":["useEffect","useState","useNavigation","useRoute","fetchUsersAsync","User","React","Button","PaperButton","withTheme","Index","props","navigation","route","users","setUsers","params","op","undefined","then","json","data","map","u","id","filter","Error","styles","button","mode","backgroundColor","theme","colors","surface","style","text","navigate","item"],"sources":["/Users/home/Desktop/APP/ui/screens/Index.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { Text, View, FlatList } from \"react-native\";\nimport { useNavigation, useRoute } from \"@react-navigation/native\";\nimport { fetchUsersAsync } from \"../services/user.service\";\nimport User from \"../components/User\";\nimport * as React from \"react\";\nimport { Button as PaperButton, withTheme } from \"react-native-paper\";\n//import App from \"./src/App\";\n//import store from \"./store\";\n\n\n\nexport default function Index(props) {\n  //navigation\n  \n  const navigation = useNavigation();\n  const route = useRoute();\n  //state\n  const [users, setUsers] = useState([]);\n  //use effect\n  useEffect(() => {\n    switch (route.params?.op) {\n      case undefined: //first time loading this view\n        fetchUsersAsync().then((json) => setUsers(json));\n        break;\n      case \"create\":\n        setUsers([...users, route.params.data]);\n        break;\n      case \"edit\":\n        setUsers(\n          users.map((u) =>\n            u.id === route.params.data.id ? route.params.data : u\n          )\n        );\n        break;\n      case \"delete\":\n        setUsers(users.filter((u) => u.id != route.params.data.id));\n        break;\n      default:\n        throw new Error(\"Unknown Operation\");\n    }\n  }, [route.params]);\n\n  \n  return (\n    <View>\n      <PaperButton style={[\n        styles.button,\n        mode === \"outlined\" && { backgroundColor: theme.colors.surface },\n        style,\n      ]}\n      labelStyle={styles.text}\n      mode={mode}\n      {...props}\n    \n        mode=\"contained\"\n        onPress={() => navigation.navigate(\"Create\")}\n      >\n        <Text>+ ADD CONTACT</Text>\n      </PaperButton>\n      <View>\n        <FlatList\n          data={users}\n          renderItem={(u) => <User user={u} />}\n          keyExtractor={(item) => item.id}\n        />\n      </View>\n    </View>\n  );\n}\n"],"mappings":";;;;;;;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;;;;AAEA,SAASC,aAAT,EAAwBC,QAAxB,QAAwC,0BAAxC;AACA,SAASC,eAAT;AACA,OAAOC,IAAP;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,SAASC,MAAM,IAAIC,WAAnB,EAAgCC,SAAhC,QAAiD,oBAAjD;;;AAMA,eAAe,SAASC,KAAT,CAAeC,KAAf,EAAsB;EAGnC,IAAMC,UAAU,GAAGV,aAAa,EAAhC;EACA,IAAMW,KAAK,GAAGV,QAAQ,EAAtB;;EAEA,gBAA0BF,QAAQ,CAAC,EAAD,CAAlC;EAAA;EAAA,IAAOa,KAAP;EAAA,IAAcC,QAAd;;EAEAf,SAAS,CAAC,YAAM;IAAA;;IACd,yBAAQa,KAAK,CAACG,MAAd,qBAAQ,cAAcC,EAAtB;MACE,KAAKC,SAAL;QACEd,eAAe,GAAGe,IAAlB,CAAuB,UAACC,IAAD;UAAA,OAAUL,QAAQ,CAACK,IAAD,CAAlB;QAAA,CAAvB;QACA;;MACF,KAAK,QAAL;QACEL,QAAQ,8BAAKD,KAAL,IAAYD,KAAK,CAACG,MAAN,CAAaK,IAAzB,GAAR;QACA;;MACF,KAAK,MAAL;QACEN,QAAQ,CACND,KAAK,CAACQ,GAAN,CAAU,UAACC,CAAD;UAAA,OACRA,CAAC,CAACC,EAAF,KAASX,KAAK,CAACG,MAAN,CAAaK,IAAb,CAAkBG,EAA3B,GAAgCX,KAAK,CAACG,MAAN,CAAaK,IAA7C,GAAoDE,CAD5C;QAAA,CAAV,CADM,CAAR;QAKA;;MACF,KAAK,QAAL;QACER,QAAQ,CAACD,KAAK,CAACW,MAAN,CAAa,UAACF,CAAD;UAAA,OAAOA,CAAC,CAACC,EAAF,IAAQX,KAAK,CAACG,MAAN,CAAaK,IAAb,CAAkBG,EAAjC;QAAA,CAAb,CAAD,CAAR;QACA;;MACF;QACE,MAAM,IAAIE,KAAJ,CAAU,mBAAV,CAAN;IAlBJ;EAoBD,CArBQ,EAqBN,CAACb,KAAK,CAACG,MAAP,CArBM,CAAT;EAwBA,OACE,MAAC,IAAD;IAAA,WACE,KAAC,WAAD;MAAa,KAAK,EAAE,CAClBW,MAAM,CAACC,MADW,EAElBC,IAAI,KAAK,UAAT,IAAuB;QAAEC,eAAe,EAAEC,KAAK,CAACC,MAAN,CAAaC;MAAhC,CAFL,EAGlBC,KAHkB,CAApB;MAKA,UAAU,EAAEP,MAAM,CAACQ,IALnB;MAMA,IAAI,EAAEN;IANN,GAOIlB,KAPJ;MASE,IAAI,EAAC,WATP;MAUE,OAAO,EAAE;QAAA,OAAMC,UAAU,CAACwB,QAAX,CAAoB,QAApB,CAAN;MAAA,CAVX;MAAA,UAYE,KAAC,IAAD;QAAA;MAAA;IAZF,GADF,EAeE,KAAC,IAAD;MAAA,UACE,KAAC,QAAD;QACE,IAAI,EAAEtB,KADR;QAEE,UAAU,EAAE,oBAACS,CAAD;UAAA,OAAO,KAAC,IAAD;YAAM,IAAI,EAAEA;UAAZ,EAAP;QAAA,CAFd;QAGE,YAAY,EAAE,sBAACc,IAAD;UAAA,OAAUA,IAAI,CAACb,EAAf;QAAA;MAHhB;IADF,EAfF;EAAA,EADF;AAyBD"},"metadata":{},"sourceType":"module"}