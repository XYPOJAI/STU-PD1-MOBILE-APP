{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useEffect, useState } from \"react\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { useNavigation, useRoute } from \"@react-navigation/native\";\nimport { fetchUsersAsync } from \"../services/user.service\";\nimport User from \"../components/User\";\nimport * as React from \"react\";\nimport { Button, FAB, IconButton } from \"react-native-paper\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function Index(props) {\n  var navigation = useNavigation();\n  var route = useRoute();\n  var u = props.user.item;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      users = _useState2[0],\n      setUsers = _useState2[1];\n\n  useEffect(function () {\n    var _route$params;\n\n    switch ((_route$params = route.params) == null ? void 0 : _route$params.op) {\n      case undefined:\n        fetchUsersAsync().then(function (json) {\n          return setUsers(json);\n        });\n        break;\n\n      case \"create\":\n        setUsers([].concat(_toConsumableArray(users), [route.params.data]));\n        break;\n\n      case \"edit\":\n        setUsers(users.map(function (u) {\n          return u.id === route.params.data.id ? route.params.data : u;\n        }));\n        break;\n\n      case \"delete\":\n        setUsers(users.filter(function (u) {\n          return u.id != route.params.data.id;\n        }));\n        break;\n\n      default:\n        throw new Error(\"Unknown Operation\");\n    }\n  }, [route.params]);\n  return _jsxs(View, {\n    children: [\"FlatList data=\", users, \"renderItem=\", function (u) {\n      return _jsx(User, {\n        user: u\n      });\n    }, \"keyExtractor=\", function (item) {\n      return item.id;\n    }, \"/>\", _jsx(FAB, {\n      icon: \"plus\",\n      large: \"true\",\n      color: \"white\",\n      theme: {\n        colors: {\n          accent: \"#941a1d\"\n        }\n      },\n      style: {\n        position: \"absolute\",\n        margin: 16,\n        right: 10,\n        bottom: 10\n      },\n      onPress: function onPress() {\n        return navigation.navigate(\"Create\");\n      }\n    })]\n  });\n}","map":{"version":3,"names":["useEffect","useState","useNavigation","useRoute","fetchUsersAsync","User","React","Button","FAB","IconButton","Index","props","navigation","route","u","user","item","users","setUsers","params","op","undefined","then","json","data","map","id","filter","Error","colors","accent","position","margin","right","bottom","navigate"],"sources":["/Users/home/Desktop/APP/ui/screens/Index.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { Text, View, FlatList } from \"react-native\";\nimport { useNavigation, useRoute } from \"@react-navigation/native\";\nimport { fetchUsersAsync } from \"../services/user.service\";\nimport User from \"../components/User\";\nimport * as React from \"react\";\nimport { Button, FAB, IconButton } from \"react-native-paper\";\n//import App from \"./src/App\";\n//import store from \"./store\";\n\nexport default function Index(props) {\n  //navigation\n\n  const navigation = useNavigation();\n  const route = useRoute();\n  let u = props.user.item;\n  //state\n  const [users, setUsers] = useState([]);\n  //use effect\n  useEffect(() => {\n    switch (route.params?.op) {\n      case undefined: //first time loading this view\n        fetchUsersAsync().then((json) => setUsers(json));\n        break;\n      case \"create\":\n        setUsers([...users, route.params.data]);\n        break;\n      case \"edit\":\n        setUsers(\n          users.map((u) =>\n            u.id === route.params.data.id ? route.params.data : u\n          )\n        );\n        break;\n      case \"delete\":\n        setUsers(users.filter((u) => u.id != route.params.data.id));\n        break;\n      default:\n        throw new Error(\"Unknown Operation\");\n    }\n  }, [route.params]);\n\n  return (\n   <View>\n        FlatList\n          data={users}\n          renderItem={(u) => <User user={u} />}\n          keyExtractor={(item) => item.id}/>\n\n      <FAB\n        icon=\"plus\"\n        large=\"true\"\n        color=\"white\"\n        theme={{ colors: { accent: \"#941a1d\" } }}\n        style={{\n          position: \"absolute\",\n          margin: 16,\n          right: 10,\n          bottom: 10  ,\n        }}\n        onPress={() => navigation.navigate(\"Create\")}\n      ></FAB>\n</View>\n  );\n}\n"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;;;;AAEA,SAASC,aAAT,EAAwBC,QAAxB,QAAwC,0BAAxC;AACA,SAASC,eAAT;AACA,OAAOC,IAAP;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,SAASC,MAAT,EAAiBC,GAAjB,EAAsBC,UAAtB,QAAwC,oBAAxC;;;AAIA,eAAe,SAASC,KAAT,CAAeC,KAAf,EAAsB;EAGnC,IAAMC,UAAU,GAAGV,aAAa,EAAhC;EACA,IAAMW,KAAK,GAAGV,QAAQ,EAAtB;EACA,IAAIW,CAAC,GAAGH,KAAK,CAACI,IAAN,CAAWC,IAAnB;;EAEA,gBAA0Bf,QAAQ,CAAC,EAAD,CAAlC;EAAA;EAAA,IAAOgB,KAAP;EAAA,IAAcC,QAAd;;EAEAlB,SAAS,CAAC,YAAM;IAAA;;IACd,yBAAQa,KAAK,CAACM,MAAd,qBAAQ,cAAcC,EAAtB;MACE,KAAKC,SAAL;QACEjB,eAAe,GAAGkB,IAAlB,CAAuB,UAACC,IAAD;UAAA,OAAUL,QAAQ,CAACK,IAAD,CAAlB;QAAA,CAAvB;QACA;;MACF,KAAK,QAAL;QACEL,QAAQ,8BAAKD,KAAL,IAAYJ,KAAK,CAACM,MAAN,CAAaK,IAAzB,GAAR;QACA;;MACF,KAAK,MAAL;QACEN,QAAQ,CACND,KAAK,CAACQ,GAAN,CAAU,UAACX,CAAD;UAAA,OACRA,CAAC,CAACY,EAAF,KAASb,KAAK,CAACM,MAAN,CAAaK,IAAb,CAAkBE,EAA3B,GAAgCb,KAAK,CAACM,MAAN,CAAaK,IAA7C,GAAoDV,CAD5C;QAAA,CAAV,CADM,CAAR;QAKA;;MACF,KAAK,QAAL;QACEI,QAAQ,CAACD,KAAK,CAACU,MAAN,CAAa,UAACb,CAAD;UAAA,OAAOA,CAAC,CAACY,EAAF,IAAQb,KAAK,CAACM,MAAN,CAAaK,IAAb,CAAkBE,EAAjC;QAAA,CAAb,CAAD,CAAR;QACA;;MACF;QACE,MAAM,IAAIE,KAAJ,CAAU,mBAAV,CAAN;IAlBJ;EAoBD,CArBQ,EAqBN,CAACf,KAAK,CAACM,MAAP,CArBM,CAAT;EAuBA,OACC,MAAC,IAAD;IAAA,6BAEaF,KAFb,iBAGmB,UAACH,CAAD;MAAA,OAAO,KAAC,IAAD;QAAM,IAAI,EAAEA;MAAZ,EAAP;IAAA,CAHnB,mBAIqB,UAACE,IAAD;MAAA,OAAUA,IAAI,CAACU,EAAf;IAAA,CAJrB,QAMG,KAAC,GAAD;MACE,IAAI,EAAC,MADP;MAEE,KAAK,EAAC,MAFR;MAGE,KAAK,EAAC,OAHR;MAIE,KAAK,EAAE;QAAEG,MAAM,EAAE;UAAEC,MAAM,EAAE;QAAV;MAAV,CAJT;MAKE,KAAK,EAAE;QACLC,QAAQ,EAAE,UADL;QAELC,MAAM,EAAE,EAFH;QAGLC,KAAK,EAAE,EAHF;QAILC,MAAM,EAAE;MAJH,CALT;MAWE,OAAO,EAAE;QAAA,OAAMtB,UAAU,CAACuB,QAAX,CAAoB,QAApB,CAAN;MAAA;IAXX,EANH;EAAA,EADD;AAsBD"},"metadata":{},"sourceType":"module"}