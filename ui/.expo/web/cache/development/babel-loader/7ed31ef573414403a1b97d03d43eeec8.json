{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useEffect, useState, List, Component } from \"react\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { useNavigation, useRoute } from \"@react-navigation/native\";\nimport { fetchUsersAsync } from \"../services/user.service\";\nimport User from \"../components/User\";\nimport { Button, FAB, IconButton } from \"react-native-paper\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function Index(props) {\n  var navigation = useNavigation();\n  var route = useRoute();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      users = _useState2[0],\n      setUsers = _useState2[1];\n\n  useEffect(function () {\n    var _route$params;\n\n    switch ((_route$params = route.params) == null ? void 0 : _route$params.op) {\n      case undefined:\n        fetchUsersAsync().then(function (json) {\n          return setUsers(json);\n        });\n        break;\n\n      case \"create\":\n        setUsers([].concat(_toConsumableArray(users), [route.params.data]));\n        break;\n\n      case \"edit\":\n        setUsers(users.map(function (u) {\n          return u.id === route.params.data.id ? route.params.data : u;\n        }));\n        break;\n\n      case \"delete\":\n        setUsers(users.filter(function (u) {\n          return u.id != route.params.data.id;\n        }));\n        break;\n\n      default:\n        throw new Error(\"Unknown Operation\");\n    }\n  }, [route.params]);\n\n  var ItemDivider = function ItemDivider() {\n    return _jsx(View, {\n      style: {\n        height: 1,\n        width: \"100%\",\n        backgroundColor: \"#607D8B\"\n      }\n    });\n  };\n\n  return _jsxs(View, {\n    children: [_jsx(View, {\n      children: _jsx(FlatList, {\n        data: users,\n        renderItem: function renderItem(u) {\n          return _jsx(User, {\n            user: u\n          });\n        },\n        keyExtractor: function keyExtractor(item) {\n          return item.id;\n        },\n        ItemSeparatorComponent: ItemDivider\n      })\n    }), _jsx(View, {}), _jsx(FAB, {\n      style: StyleSheet.MainContainer,\n      icon: \"plus\",\n      large: \"true\",\n      color: \"white\",\n      theme: {\n        colors: {\n          accent: \"#941a1d\"\n        }\n      },\n      onPress: function onPress() {\n        return navigation.navigate(\"Create\");\n      }\n    })]\n  });\n}\nvar styleSheet = StyleSheet.create({\n  MainContainer: {\n    flex: 1,\n    flexDirection: \"column\",\n    justifyContent: \"flex-end\",\n    backgroundColor: \"D9D9D9\",\n    height: \"100%\",\n    position: \"absolute\",\n    margin: 16,\n    right: 10,\n    bottom: 10\n  },\n  item: {\n    paddingLeft: 15,\n    paddingTop: 8,\n    paddingBottom: 8\n  },\n  itemText: {\n    fontSize: 24,\n    color: \"black\"\n  }\n});","map":{"version":3,"names":["useEffect","useState","List","Component","useNavigation","useRoute","fetchUsersAsync","User","Button","FAB","IconButton","Index","props","navigation","route","users","setUsers","params","op","undefined","then","json","data","map","u","id","filter","Error","ItemDivider","height","width","backgroundColor","item","StyleSheet","MainContainer","colors","accent","navigate","styleSheet","create","flex","flexDirection","justifyContent","position","margin","right","bottom","paddingLeft","paddingTop","paddingBottom","itemText","fontSize","color"],"sources":["/Users/home/Desktop/APP/ui/screens/Index.js"],"sourcesContent":["import { useEffect, useState, List, Component } from \"react\";\nimport { Text, View, FlatList, SafeAreaView, StyleSheet } from \"react-native\";\nimport { useNavigation, useRoute } from \"@react-navigation/native\";\nimport { fetchUsersAsync } from \"../services/user.service\";\nimport User from \"../components/User\";\n\nimport { Button, FAB, IconButton } from \"react-native-paper\";\n//import App from \"./src/App\";\n//import store from \"./store\";\n\nexport default function Index(props) {\n  //navigation\n  const navigation = useNavigation();\n  const route = useRoute();\n  //state\n  const [users, setUsers] = useState([]);\n  //use effect\n  useEffect(() => {\n    switch (route.params?.op) {\n      case undefined: //first time loading this view\n        fetchUsersAsync().then((json) => setUsers(json));\n        break;\n      case \"create\":\n        setUsers([...users, route.params.data]);\n\n        break;\n      case \"edit\":\n        setUsers(\n          users.map((u) =>\n            u.id === route.params.data.id ? route.params.data : u\n          )\n        );\n        break;\n      case \"delete\":\n        setUsers(users.filter((u) => u.id != route.params.data.id));\n        break;\n      default:\n        throw new Error(\"Unknown Operation\");\n    }\n  }, [route.params]);\n\n  const ItemDivider = () => {\n    return (\n      <View\n        style={{\n          height: 1,\n          width: \"100%\",\n          backgroundColor: \"#607D8B\",\n        }}\n      />\n    );\n  };\n\n  return (\n    <View>\n      <View>\n        <FlatList\n          data={users}\n          renderItem={(u) => <User user={u} />}\n          keyExtractor={(item) => item.id}\n          ItemSeparatorComponent={ItemDivider}\n        />\n      </View>\n      <View></View>\n        <FAB style={StyleSheet.MainContainer}\n          icon=\"plus\"\n          large=\"true\"\n          color=\"white\"\n          theme={{ colors: { accent: \"#941a1d\" } }}\n          onPress={() => navigation.navigate(\"Create\")}\n        ></FAB>\n\n    </View>\n  );\n}\n\nconst styleSheet = StyleSheet.create({\n  MainContainer: {\n    flex: 1,\n    flexDirection: \"column\",\n    justifyContent: \"flex-end\",\n    backgroundColor: \"D9D9D9\",\n    height: \"100%\",\n    position: \"absolute\",\n    margin: 16,\n    right: 10,\n    bottom: 10,\n  },\n\n  item: {\n    paddingLeft: 15,\n    paddingTop: 8,\n    paddingBottom: 8,\n  },\n\n  itemText: {\n    fontSize: 24,\n    color: \"black\",\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}