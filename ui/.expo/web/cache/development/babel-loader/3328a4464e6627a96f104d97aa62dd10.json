{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { useEffect, useState, List, Component } from \"react\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { useNavigation, useRoute } from \"@react-navigation/native\";\nimport { fetchUsersAsync } from \"../services/user.service\";\nimport User from \"../components/User\";\nimport { Button, FAB, IconButton } from \"react-native-paper\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar FlatListDemo = function (_Component) {\n  _inherits(FlatListDemo, _Component);\n\n  var _super = _createSuper(FlatListDemo);\n\n  function FlatListDemo() {\n    var _this;\n\n    _classCallCheck(this, FlatListDemo);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _this.renderSeparator = function () {\n      return _jsx(View, {\n        style: {\n          height: 1,\n          width: \"86%\",\n          backgroundColor: \"#CED0CE\",\n          marginLeft: \"14%\"\n        }\n      });\n    };\n\n    return _this;\n  }\n\n  return _createClass(FlatListDemo);\n}(Component);\n\nexport default function Index(props) {\n  var navigation = useNavigation();\n  var route = useRoute();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      users = _useState2[0],\n      setUsers = _useState2[1];\n\n  useEffect(function () {\n    var _route$params;\n\n    switch ((_route$params = route.params) == null ? void 0 : _route$params.op) {\n      case undefined:\n        fetchUsersAsync().then(function (json) {\n          return setUsers(json);\n        });\n        break;\n\n      case \"create\":\n        setUsers([].concat(_toConsumableArray(users), [route.params.data]));\n        break;\n\n      case \"edit\":\n        setUsers(users.map(function (u) {\n          return u.id === route.params.data.id ? route.params.data : u;\n        }));\n        break;\n\n      case \"delete\":\n        setUsers(users.filter(function (u) {\n          return u.id != route.params.data.id;\n        }));\n        break;\n\n      default:\n        throw new Error(\"Unknown Operation\");\n    }\n  }, [route.params]);\n  return _jsxs(View, {\n    style: {\n      flex: 1\n    },\n    children: [_jsx(List, {\n      containerStyle: {\n        borderTopWidth: 0,\n        borderBottomWidth: 0\n      },\n      children: _jsx(FlatList, {\n        ListHeaderComponent: this.renderHeader,\n        ListFooterComponent: this.renderFooter,\n        data: users,\n        renderItem: function renderItem(u) {\n          return _jsx(User, {\n            user: u\n          });\n        },\n        keyExtractor: function keyExtractor(item) {\n          return item.id;\n        }\n      })\n    }), _jsx(View, {\n      children: _jsx(FAB, {\n        icon: \"plus\",\n        large: \"true\",\n        color: \"white\",\n        theme: {\n          colors: {\n            accent: \"#941a1d\"\n          }\n        },\n        style: {\n          position: \"absolute\",\n          margin: 16,\n          right: 10,\n          bottom: 10\n        },\n        onPress: function onPress() {\n          return navigation.navigate(\"Create\");\n        }\n      })\n    }), \"/View\"]\n  });\n}","map":{"version":3,"names":["useEffect","useState","List","Component","useNavigation","useRoute","fetchUsersAsync","User","Button","FAB","IconButton","FlatListDemo","renderSeparator","height","width","backgroundColor","marginLeft","Index","props","navigation","route","users","setUsers","params","op","undefined","then","json","data","map","u","id","filter","Error","flex","borderTopWidth","borderBottomWidth","renderHeader","renderFooter","item","colors","accent","position","margin","right","bottom","navigate"],"sources":["/Users/home/Desktop/APP/ui/screens/Index.js"],"sourcesContent":["import { useEffect, useState, List, Component } from \"react\";\nimport { Text, View, FlatList } from \"react-native\";\nimport { useNavigation, useRoute } from \"@react-navigation/native\";\nimport { fetchUsersAsync } from \"../services/user.service\";\nimport User from \"../components/User\";\n\nimport { Button, FAB, IconButton } from \"react-native-paper\";\n//import App from \"./src/App\";\n//import store from \"./store\";\n\nclass FlatListDemo extends Component {\n  renderSeparator = () => {\n    return (\n      <View\n        style={{\n          height: 1,\n          width: \"86%\",\n          backgroundColor: \"#CED0CE\",\n          marginLeft: \"14%\"\n        }}\n      />\n    );\n  };\n}\n\nexport default function Index(props) {\n  //navigation\n  const navigation = useNavigation();\n  const route = useRoute();\n  //state\n  const [users, setUsers] = useState([]);\n  //use effect\n  useEffect(() => {\n    switch (route.params?.op) {\n      case undefined: //first time loading this view\n        fetchUsersAsync().then((json) => setUsers(json));\n        break;\n      case \"create\":\n        setUsers([...users, route.params.data]);\n      \n        break;\n      case \"edit\":\n        setUsers(\n          users.map((u) =>\n            u.id === route.params.data.id ? route.params.data : u\n          )\n        );\n        break;\n      case \"delete\":\n        setUsers(users.filter((u) => u.id != route.params.data.id));\n        break;\n      default:\n        throw new Error(\"Unknown Operation\");\n    }\n\n\n  }, [route.params]);\n\n  return (\n    <View style={{ flex: 1 }}>\n\n<List containerStyle={{ borderTopWidth: 0, borderBottomWidth: 0 }}>\n        <FlatList         \n        ListHeaderComponent={this.renderHeader}\n        ListFooterComponent={this.renderFooter}\n          data={users}\n          renderItem={(u) => <User user={u} />}\n          keyExtractor={(item) => item.id}\n        />\n        \n        </List>\n<View>\n      <FAB\n        icon=\"plus\"\n        large=\"true\"\n        color=\"white\"\n        theme={{ colors: { accent: \"#941a1d\" } }}\n        style={{\n          position: \"absolute\",\n          margin: 16,\n          right: 10,\n          bottom: 10,\n        }}\n        onPress={() => navigation.navigate(\"Create\")}\n      ></FAB>\n    </View>\n    /View</View>\n  );\n  }\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}